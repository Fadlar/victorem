import{r as x,j as e,y as o}from"./app-QfXM7FYG.js";import{F as g}from"./FileUpload-mfs4ZebE.js";import{F as f}from"./form-group-OpWAnVz_.js";import{c as h}from"./class-names-ryfOvXuX.js";import{t as j}from"./lang-4Bv6d5Xe.js";import{n as m}from"./notification-BHEquEtc.js";import{b}from"./index.esm-4OWMwe9H.js";import v from"./product-image-list-KxxbHtTz.js";import{I as F}from"./InputError-KlmRwWc7.js";import"./index-6xcHn7-r.js";import"./transition-vImJmUo0.js";import"./dialog-7yl9lG-a.js";import"./index-VjeZbNp2.js";import"./index-CBm4AwXm.js";import"./utils-FzIoAioV.js";import"./constants-lPtH_bX3.js";import"./objectWithoutPropertiesLoose-mgTyI0mA.js";function T({className:l,product:s,handleImages:c,errors:r,isClearFiles:n}){var i;const[d,a]=x.useState(!1),p=t=>{o.delete(`/ecommerce/product-image/${t}`,{preserveScroll:!0,onSuccess:()=>m("Product images deleted.","success")})},u=t=>{o.put(`/ecommerce/product-image/${s.slug}`,{images:t},{preserveScroll:!0,onStart:()=>a(!0),onFinish:()=>a(!1),onSuccess:()=>{m("The product image has been updated.","success")}})};return e.jsx(e.Fragment,{children:e.jsxs(f,{title:"Upload new product images",description:"Upload your product image gallery here",className:h(l),children:[e.jsx(g,{onChangeFile:c,errors:r,isClearFiles:n}),e.jsx(F,{className:"-mt-5",message:r&&r.images}),((i=s==null?void 0:s.images)==null?void 0:i.length)>0&&e.jsxs("div",{className:"max-h-[280px] col-span-full mb-5",children:[e.jsx("div",{className:"mb-2 text-gray-800",children:j("Product images")}),e.jsxs("div",{className:"relative overflow-hidden",children:[d?e.jsx("div",{className:"absolute z-50 inset-0 bg-black/25 backdrop-blur-sm rounded-md flex items-center justify-center",children:e.jsx("span",{className:"animate-spin",children:e.jsx(b,{className:"w-10 h-10 text-white"})})}):null,e.jsx(v,{items:s.images,onReorder:u,onDelete:p})]})]})]})})}export{T as default};
