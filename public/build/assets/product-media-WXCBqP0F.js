import{r as x,j as e,y as o}from"./app-krWxR8E3.js";import{F as g}from"./FileUpload-jcIzu3Q8.js";import{F as f}from"./form-group-2G1Acz7U.js";import{c as h}from"./class-names-zUl3OLOi.js";import{t as j}from"./lang-So3luDdg.js";import{n as m}from"./notification-RP90GPya.js";import{e as b}from"./index.esm-96ZH3Kqa.js";import v from"./product-image-list-fK4pQWY_.js";import{I as F}from"./InputError-LlcGelYR.js";import"./index-MEOpnARa.js";import"./transition-bzypOlFu.js";import"./dialog-0m5VktOX.js";import"./index-PJQuTaiR.js";import"./index-J_KMWO7W.js";import"./utils-kpKCX6Tx.js";import"./objectWithoutPropertiesLoose-0VpOByGv.js";import"./defineProperty-9_qlZ_aL.js";import"./tiny-invariant-Garq8XeN.js";function q({className:l,product:s,handleImages:c,errors:r,isClearFiles:n}){var a;const[p,i]=x.useState(!1),d=t=>{o.delete(`/ecommerce/product-image/${t}`,{preserveScroll:!0,onSuccess:()=>m("Product images deleted.","success")})},u=t=>{o.put(`/ecommerce/product-image/${s.slug}`,{images:t},{preserveScroll:!0,onStart:()=>i(!0),onFinish:()=>i(!1),onSuccess:()=>{m("The product image has been updated.","success")}})};return e.jsx(e.Fragment,{children:e.jsxs(f,{title:"Upload new product images",description:"Upload your product image gallery here",className:h(l),children:[e.jsx(g,{onChangeFile:c,errors:r,isClearFiles:n}),e.jsx(F,{className:"-mt-5",message:r&&r.images}),((a=s==null?void 0:s.images)==null?void 0:a.length)>0&&e.jsxs("div",{className:"max-h-[280px] col-span-full mb-5",children:[e.jsx("div",{className:"mb-2 text-gray-800",children:j("Product images")}),e.jsxs("div",{className:"relative overflow-hidden",children:[p?e.jsx("div",{className:"absolute z-50 inset-0 bg-black/25 backdrop-blur-sm rounded-md flex items-center justify-center",children:e.jsx("span",{className:"animate-spin",children:e.jsx(b,{className:"w-10 h-10 text-white"})})}):null,e.jsx(v,{items:s.images,onReorder:u,onDelete:d})]})]})]})})}export{q as default};
