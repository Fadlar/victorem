import{r as d,j as e,y}from"./app-l73uQ8Cn.js";import{A as g}from"./App-wI626P_q.js";import{T as w}from"./trash-AMHB9E1i.js";import{D as S}from"./date-cell-qeFnqhrS.js";import{P as _}from"./page-header-71YyU2OE.js";import{g as v,a as C}from"./index.esm-nQ1qcedY.js";import{N as p}from"./react-number-format.es-a61M_Eqq.js";import{V as r,Y as D,E as k,C as R,S as x}from"./index-oy57zWj5.js";import"./ApplicationLogo-bNzY77Nn.js";import"./class-names-zUl3OLOi.js";import"./use-event-listener-oHJiKw53.js";import"./drawer-P-QqubCp.js";import"./lang-Gi6n-Nbh.js";import"./useWindowScroll-8exvf3iB.js";import"./util-MOdpI_j3.js";import"./dayjs.min-_MRw0p4D.js";import"./useMedia-tpaJ0fSZ.js";import"./index-NXUOlgR0.js";/* empty css                      */import"./index-Tn1hy-Aw.js";import"./transition-6Tou7ICo.js";import"./dialog-xVBUYMQv.js";const h={title:"Sales Report",breadcrumb:[{href:"#",name:"Reports"},{name:"Sales"}]};function W({products:i,filter:c}){const[u,t]=d.useState(!1),[a,o]=d.useState({start_at:c.start_at??"",end_at:c.end_at??""}),n=s=>{const{name:l,value:b}=s.target;o({...a,[l]:b})},j=()=>{o({start_at:"",end_at:""})},f=s=>{s.preventDefault(),y.get("/reports/sale",{...a}),t(!1)},m=new Date().toISOString().split("T")[0],N=()=>{window.location.href=`/reports/sale/export?start_at=${a.start_at}&end_at=${a.end_at}`};return e.jsxs(g,{title:"Sales Report",children:[e.jsx(_,{title:h.title,breadcrumb:h.breadcrumb,children:e.jsx("div",{className:"flex gap-x-3 items-center",children:e.jsxs("div",{className:"flex gap-x-3 items-center",children:[e.jsx(r,{type:"button",onClick:()=>t(!0),children:"Filter"}),e.jsxs(r,{variant:"outline",onClick:N,className:"w-full @lg:w-auto",children:[e.jsx(v,{className:"me-1.5 h-[17px] w-[17px]"}),"Export"]})]})})}),e.jsx(D,{size:"sm",isOpen:u,onClose:()=>t(!1),overlayClassName:"dark:bg-opacity-20 backdrop-blur-md",containerClassName:"dark:bg-gray-100",children:e.jsxs("div",{className:"flex h-full flex-col p-5",children:[e.jsxs("div",{className:"-mx-5 mb-6 flex items-center justify-between border-b border-gray-200 px-5 pb-4",children:[e.jsx(k,{as:"h5",children:"Sale Filter"}),e.jsx(R,{size:"sm",rounded:"full",variant:"text",title:"Close Filter",onClick:()=>t(!1),children:e.jsx(C,{className:"h-4 w-4"})})]}),e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(x,{as:"span",className:"mb-2 mt-2.5 block text-sm",children:"From Date"}),e.jsx("input",{name:"start_at",type:"date",onChange:n,value:a.start_at,className:"w-full border-gray-300 rounded-md",max:m})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(x,{as:"span",className:"mb-2 mt-2.5 block text-sm",children:"To Date"}),e.jsx("input",{name:"end_at",type:"date",onChange:n,value:a.end_at,className:"w-full border-gray-300 rounded-md",max:m,min:a.start_at,disabled:!a.start_at,required:!!a.start_at})]}),a.start_at&&a.end_at?e.jsxs(r,{type:"button",onClick:j,variant:"flat",size:"sm",className:"w-full text-gray-700",children:[e.jsx(w,{className:"w-4 h-4"}),e.jsx("span",{className:"ml-1",children:"Clear"})]}):null,e.jsx(r,{size:"lg",type:"submit",className:"mt-5 h-11 w-full text-sm",children:"Show Results"})]})]})}),e.jsx("div",{className:"relative overflow-x-auto rounded-lg border border-gray-300",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Product Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Size"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Quantity"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Total"})]})}),e.jsxs("tbody",{children:[i.map((s,l)=>e.jsxs("tr",{className:"bg-white border-b",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx(S,{date:s.order.updated_at})}),e.jsxs("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-600 whitespace-nowrap",children:[e.jsx("span",{className:"block",children:s.product.name}),e.jsx("span",{className:"block",children:e.jsx(p,{displayType:"text",prefix:"Rp",value:s.price,thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0})})]}),e.jsx("td",{className:"px-6 py-4 uppercase",children:s.size}),e.jsx("td",{className:"px-6 py-4",children:s.quantity}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(p,{displayType:"text",prefix:"Rp",value:s.price,thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0})})]},l)),!i.length&&e.jsx("tr",{children:e.jsx("td",{className:"py-4 text-center",colSpan:5,children:"No data."})})]})]})})]})}export{W as default};
