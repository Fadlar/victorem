import{r as l,j as e,y as N}from"./app-nsHntUsK.js";import{A as g}from"./App-rEBeMuYx.js";import{D as w}from"./date-cell-zmlomyRm.js";import{P as y}from"./page-header-uwg7PbSE.js";import{g as v,a as k}from"./index.esm-ISvY9W97.js";import{V as n,Y as S,E as _,C,S as m}from"./index-iL4kZU-h.js";import"./ApplicationLogo-G5_lZz_V.js";import"./class-names-zUl3OLOi.js";import"./use-event-listener-bLg--NrZ.js";import"./drawer-LkzqZ4Wu.js";import"./lang-F_IncnmU.js";import"./useWindowScroll--2fQma_q.js";import"./util-MOdpI_j3.js";import"./dayjs.min-jMDgXcQu.js";import"./useMedia-HV9XGjUc.js";import"./index-e7VkmC_-.js";/* empty css                      */import"./index-sAVe241O.js";import"./transition-G-3VdV3I.js";import"./dialog-4x4KwS2E.js";function z({title:o,titleId:s,...c},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},c),o?l.createElement("title",{id:s},o):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const L=l.forwardRef(z),D=L,h={title:"Stock Report",breadcrumb:[{href:"#",name:"Reports"},{name:"Stock"}]};function K({sizes:o,filter:s}){const[c,r]=l.useState(!1),[a,p]=l.useState({size:s.size??"",start_at:s.start_at??"",end_at:s.end_at??""}),i=t=>{const{name:d,value:f}=t.target;p({...a,[d]:f})},u=()=>{p({size:"",start_at:"",end_at:""})},j=t=>{t.preventDefault(),N.get("/reports/stock",{...a}),r(!1)},x=new Date().toISOString().split("T")[0],b=()=>{window.location.href=`/reports/stock/export?size=${a.size}&start_at=${a.start_at}&end_at=${a.end_at}`};return e.jsxs(g,{title:"Stock Report",children:[e.jsx(y,{title:h.title,breadcrumb:h.breadcrumb,children:e.jsxs("div",{className:"flex gap-x-3 items-center",children:[e.jsx(n,{type:"button",onClick:()=>r(!0),children:"Filter"}),e.jsxs(n,{variant:"outline",onClick:b,className:"w-full @lg:w-auto",children:[e.jsx(v,{className:"me-1.5 h-[17px] w-[17px]"}),"Export"]})]})}),e.jsx(S,{size:"sm",isOpen:c,onClose:()=>r(!1),overlayClassName:"dark:bg-opacity-20 backdrop-blur-md",containerClassName:"dark:bg-gray-100",children:e.jsxs("div",{className:"flex h-full flex-col p-5",children:[e.jsxs("div",{className:"-mx-5 mb-6 flex items-center justify-between border-b border-gray-200 px-5 pb-4",children:[e.jsx(_,{as:"h5",children:"Stock Filter"}),e.jsx(C,{size:"sm",rounded:"full",variant:"text",title:"Close Filter",onClick:()=>r(!1),children:e.jsx(k,{className:"h-4 w-4"})})]}),e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(m,{as:"span",className:"mb-2 mt-2.5 block text-sm",children:"Size"}),e.jsxs("select",{name:"size",id:"size",className:"w-full border-gray-300 rounded-md",onChange:i,value:a.size,children:[e.jsx("option",{value:"",children:"All Size"}),e.jsx("option",{value:"s",children:"S (Small)"}),e.jsx("option",{value:"m",children:"M (Medium)"}),e.jsx("option",{value:"l",children:"L (Large)"}),e.jsx("option",{value:"xl",children:"XL (Extra Large)"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(m,{as:"span",className:"mb-2 mt-2.5 block text-sm",children:"From Date"}),e.jsx("input",{name:"start_at",type:"date",onChange:i,value:a.start_at,className:"w-full border-gray-300 rounded-md",max:x})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(m,{as:"span",className:"mb-2 mt-2.5 block text-sm",children:"To Date"}),e.jsx("input",{name:"end_at",type:"date",onChange:i,value:a.end_at,className:"w-full border-gray-300 rounded-md",max:x,min:a.start_at,disabled:!a.start_at,required:!!a.start_at})]}),a.start_at&&a.end_at?e.jsxs(n,{type:"button",onClick:u,variant:"flat",size:"sm",className:"w-full text-gray-700",children:[e.jsx(D,{className:"w-4 h-4"}),e.jsx("span",{className:"ml-1",children:"Clear"})]}):null,e.jsx(n,{size:"lg",type:"submit",className:"mt-5 h-11 w-full text-sm",children:"Show Results"})]})]})}),e.jsx("div",{className:"relative overflow-x-auto rounded-lg border border-gray-300",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[e.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Product Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Size"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Stock"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Modified"})]})}),e.jsxs("tbody",{children:[o.map((t,d)=>e.jsxs("tr",{className:"bg-white border-b",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-600 whitespace-nowrap",children:e.jsx("span",{className:"block",children:t.product.name})}),e.jsx("td",{className:"px-6 py-4 uppercase",children:t.name}),e.jsx("td",{className:"px-6 py-4",children:t.stock}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(w,{date:t.updated_at})})]},d)),!o.length&&e.jsx("tr",{children:e.jsx("td",{className:"py-4 text-center",colSpan:4,children:"No data."})})]})]})})]})}export{K as default};
