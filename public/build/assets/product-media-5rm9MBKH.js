import{r as x,j as e,y as o}from"./app-2UknqXgy.js";import{F as g}from"./FileUpload-lWAp9xYL.js";import{F as h}from"./form-group-7tooBdgQ.js";import{c as f,t as j}from"./lang-ZDB8uS83.js";import{n as m}from"./notification-n4E3ZUKo.js";import{d as b}from"./index.esm-uZtfluGa.js";import v from"./product-image-list-K625HVrG.js";import{I as F}from"./InputError-iSpwlnJD.js";import"./index-CkMAcVi9.js";import"./transition-ocz20r5l.js";import"./dialog-ZsqB_iXW.js";import"./index-R8Sv_q1I.js";import"./index-OfqHdAuq.js";import"./utils-FzIoAioV.js";import"./constants-lPtH_bX3.js";import"./objectWithoutPropertiesLoose-qiKziPFZ.js";import"./defineProperty-VwQjyvUu.js";function T({className:l,product:s,handleImages:c,errors:r,isClearFiles:n}){var i;const[d,a]=x.useState(!1),p=t=>{o.delete(`/ecommerce/product-image/${t}`,{preserveScroll:!0,onSuccess:()=>m("Product images deleted.","success")})},u=t=>{o.put(`/ecommerce/product-image/${s.slug}`,{images:t},{preserveScroll:!0,onStart:()=>a(!0),onFinish:()=>a(!1),onSuccess:()=>{m("The product image has been updated.","success")}})};return e.jsx(e.Fragment,{children:e.jsxs(h,{title:"Upload new product images",description:"Upload your product image gallery here",className:f(l),children:[e.jsx(g,{onChangeFile:c,errors:r,isClearFiles:n}),e.jsx(F,{className:"-mt-5",message:r&&r.images}),((i=s==null?void 0:s.images)==null?void 0:i.length)>0&&e.jsxs("div",{className:"max-h-[280px] col-span-full mb-5",children:[e.jsx("div",{className:"mb-2 text-gray-800",children:j("Product images")}),e.jsxs("div",{className:"relative overflow-hidden",children:[d?e.jsx("div",{className:"absolute z-50 inset-0 bg-black/25 backdrop-blur-sm rounded-md flex items-center justify-center",children:e.jsx("span",{className:"animate-spin",children:e.jsx(b,{className:"w-10 h-10 text-white"})})}):null,e.jsx(v,{items:s.images,onReorder:u,onDelete:p})]})]})]})})}export{T as default};
