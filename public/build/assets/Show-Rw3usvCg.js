import{W as b,r as g,j as e,y as v}from"./app-h2xn1fCp.js";import{A as y}from"./App-i7psYChY.js";import{r as l}from"./drawer-uJSHbFqk.js";import{D as C}from"./delete-popover-WcNtHmWY.js";import{P as w}from"./page-header-DSjIVel5.js";import{P as D}from"./print-button-4os0MsbX.js";import{n as N}from"./notification-XlaDvwWM.js";import{a as k}from"./index.esm-ap6YTysa.js";import{V as o,p as S,E as P,C as _,n as E,a as O}from"./index-mebDoU9q.js";import A from"./OrderView-pbBg5-ku.js";import"./ApplicationLogo-OQ1O3wwz.js";import"./class-names-zUl3OLOi.js";import"./use-event-listener-xr_5DWQw.js";import"./lang-pQN9m2OT.js";import"./useWindowScroll-r9zRSJ0y.js";import"./util-MOdpI_j3.js";import"./dayjs.min-1MZ15xyC.js";import"./useMedia-57jYVyay.js";import"./index-LySXc-sb.js";/* empty css                      */import"./index-QfiPtcGz.js";import"./trash-5viJRFjP.js";import"./transition-D8WsS2vu.js";import"./dialog-z9FS3Sxn.js";import"./format-fpYZDBFu.js";import"./table-unI-aefB.js";import"./createSuper-qJ5pv6lg.js";import"./defineProperty-9_qlZ_aL.js";import"./objectWithoutPropertiesLoose-0VpOByGv.js";import"./react-number-format.es-seYcNh7R.js";import"./utils-kpKCX6Tx.js";const c={title:"Detail Order",breadcrumb:[{href:l.eCommerce.orders,name:"Orders"},{name:"Detail"}]};function de({order:t}){const{data:s,setData:d,patch:m,processing:p}=b({status:t.status??"",resi:t.resi??"",reason_cancelled:t.reason_cancelled??""}),[n,a]=g.useState(!1),u=()=>{a(!1)},r=i=>{const{name:f,value:j}=i.target;d({...s,[f]:j})},x=()=>{v.delete(l.eCommerce.orderDetails(t.id))},h=i=>{i.preventDefault(),m(l.eCommerce.orderDetails(t.id),{onSuccess:()=>{N("Order status has been updated.","success"),a(!1)}})};return e.jsxs(y,{title:`Detail #${t.order_id}`,children:[e.jsx(w,{title:c.title,breadcrumb:c.breadcrumb,children:e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(o,{type:"button",onClick:()=>a(!0),children:"Update Status"}),t.status==="finish"?e.jsx("a",{href:`/order/${t.order_id}/invoice-download`,target:"_blank",rel:"noreferrer noopener",children:e.jsx(D,{})}):null,e.jsx(C.Button,{title:"Delete the order",description:`Are you sure you want to delete this #${t.order_id} order?`,onDelete:()=>x()})]})}),e.jsx(A,{order:t}),e.jsx(S,{isOpen:n,size:"DEFAULT",onClose:()=>a(!1),children:e.jsxs("div",{className:"m-auto px-5 pb-8 pt-5 @lg:pt-6 @2xl:px-7",children:[e.jsxs("div",{className:"mb-7 flex items-center justify-between",children:[e.jsx(P,{as:"h4",className:"font-semibold",children:"Change Status"}),e.jsx(_,{size:"sm",variant:"text",onClick:()=>a(!n),children:e.jsx(k,{className:"h-auto w-5"})})]}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"status",className:"font-medium block text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{name:"status",id:"status",className:"w-full border rounded-md border-gray-300",value:s.status,onChange:r,children:[e.jsx("option",{value:"payment",children:"Payment Pending"}),e.jsx("option",{value:"payment_success",children:"Payment Success"}),e.jsx("option",{value:"packaging",children:"Packaging"}),e.jsx("option",{value:"shipped",children:"Shipped"}),e.jsx("option",{value:"finish",children:"Completed"}),e.jsx("option",{value:"refund",children:"Refunded"}),e.jsx("option",{value:"canceled",children:"Cancelled"})]})]}),s.status==="shipped"&&e.jsx("div",{className:"mb-2",children:e.jsx(E,{label:"Resi",name:"resi",placeholder:"Enter a resi",value:s.resi,onChange:r,required:!0})}),s.status==="canceled"&&e.jsx("div",{className:"mb-2",children:e.jsx(O,{label:"Reason",name:"reason_cancelled",placeholder:"Enter a reason",value:s.reason_cancelled,onChange:r,required:!0})}),e.jsxs("div",{className:"sticky mt-4 bottom-0 z-40 flex items-center justify-end gap-3 bg-gray-0/10 backdrop-blur @lg:gap-4 @xl:grid @xl:auto-cols-max @xl:grid-flow-col",children:[e.jsx(o,{variant:"outline",className:"w-full @xl:w-auto",onClick:()=>u(),children:"Cancel"}),e.jsx(o,{type:"submit",isLoading:p,className:"w-full @xl:w-auto dark:bg-gray-100 dark:text-white dark:active:bg-gray-100",children:"Save"})]})]})]})})]})}export{de as default};
