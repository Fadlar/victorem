import{r as x,j as e,y as o}from"./app-fn2mlbXl.js";import{F as g}from"./FileUpload-RQpeOF9y.js";import{F as f}from"./form-group-cH1vAwq1.js";import{c as h}from"./class-names-ryfOvXuX.js";import{t as j}from"./lang-f-uG6egg.js";import{n as m}from"./notification-OZXQTPSA.js";import{b}from"./index.esm-sFKgBzce.js";import v from"./product-image-list-qrYvTvPf.js";import{I as F}from"./InputError-CGxPWkUS.js";import"./index-1R0EfZVh.js";import"./transition-Hp1-pP6D.js";import"./dialog-5nR5Okm2.js";import"./index-P8pig1uU.js";import"./index-UC-Le6yJ.js";import"./utils-FzIoAioV.js";import"./constants-lPtH_bX3.js";import"./objectWithoutPropertiesLoose-mgTyI0mA.js";function T({className:l,product:s,handleImages:c,errors:r,isClearFiles:n}){var i;const[d,a]=x.useState(!1),p=t=>{o.delete(`/ecommerce/product-image/${t}`,{preserveScroll:!0,onSuccess:()=>m("Product images deleted.","success")})},u=t=>{o.put(`/ecommerce/product-image/${s.slug}`,{images:t},{preserveScroll:!0,onStart:()=>a(!0),onFinish:()=>a(!1),onSuccess:()=>{m("The product image has been updated.","success")}})};return e.jsx(e.Fragment,{children:e.jsxs(f,{title:"Upload new product images",description:"Upload your product image gallery here",className:h(l),children:[e.jsx(g,{onChangeFile:c,errors:r,isClearFiles:n}),e.jsx(F,{className:"-mt-5",message:r&&r.images}),((i=s==null?void 0:s.images)==null?void 0:i.length)>0&&e.jsxs("div",{className:"max-h-[280px] col-span-full mb-5",children:[e.jsx("div",{className:"mb-2 text-gray-800",children:j("Product images")}),e.jsxs("div",{className:"relative overflow-hidden",children:[d?e.jsx("div",{className:"absolute z-50 inset-0 bg-black/25 backdrop-blur-sm rounded-md flex items-center justify-center",children:e.jsx("span",{className:"animate-spin",children:e.jsx(b,{className:"w-10 h-10 text-white"})})}):null,e.jsx(v,{items:s.images,onReorder:u,onDelete:p})]})]})]})})}export{T as default};
