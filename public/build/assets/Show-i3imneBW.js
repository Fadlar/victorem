import{W as b,r as g,j as e,y as v}from"./app-u7IR6Df1.js";import{A as y}from"./App-E5xQ5DfC.js";import{r as o}from"./drawer-d2qMAaBB.js";import{D as C}from"./delete-popover-VxQJMgve.js";import{P as D}from"./page-header-zOBWnWNt.js";import{a as N}from"./index.esm-D1fV5stR.js";import{V as l,p as w,E as S,C as k,n as P,a as E}from"./index-X4NcwgMz.js";import _ from"./OrderView-Xai-HOFd.js";import{n as O}from"./notification-OZoLHU_n.js";import"./useWindowScroll-QgKZq-lk.js";import"./util-MOdpI_j3.js";import"./class-names-zUl3OLOi.js";import"./use-event-listener-BfkznSuv.js";import"./lang-iz4Bd8g5.js";import"./dayjs.min-y1PjA3pU.js";import"./useMedia-YgRC8rwu.js";import"./index-pEeJqV-C.js";/* empty css                      */import"./index-ugdwKev6.js";import"./transition-xx6ayEc6.js";import"./dialog-L-cZLcDH.js";import"./format-QYQyG9eJ.js";import"./table-MHMOyR4W.js";import"./createSuper-qMs8KTMo.js";import"./defineProperty-9_qlZ_aL.js";import"./objectWithoutPropertiesLoose-0VpOByGv.js";import"./react-number-format.es-le3Gc2S9.js";import"./utils-kpKCX6Tx.js";const c={title:"Detail Order",breadcrumb:[{href:o.eCommerce.orders,name:"Orders"},{name:"Detail"}]};function le({order:t}){const{data:s,setData:d,patch:m,processing:p}=b({status:t.status??"",resi:t.resi??"",reason_cancelled:t.reason_cancelled??""}),[n,a]=g.useState(!1),u=()=>{a(!1)},r=i=>{const{name:j,value:f}=i.target;d({...s,[j]:f})},x=()=>{v.delete(o.eCommerce.orderDetails(t.id))},h=i=>{i.preventDefault(),m(o.eCommerce.orderDetails(t.id),{onSuccess:()=>{O("Order status has been updated.","success"),a(!1)}})};return e.jsxs(y,{title:`Detail #${t.order_id}`,children:[e.jsx(D,{title:c.title,breadcrumb:c.breadcrumb,children:e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(l,{type:"button",onClick:()=>a(!0),children:"Update Status"}),e.jsx(C.Button,{title:"Delete the order",description:`Are you sure you want to delete this #${t.order_id} order?`,onDelete:()=>x()})]})}),e.jsx(_,{order:t}),e.jsx(w,{isOpen:n,size:"DEFAULT",onClose:()=>a(!1),children:e.jsxs("div",{className:"m-auto px-5 pb-8 pt-5 @lg:pt-6 @2xl:px-7",children:[e.jsxs("div",{className:"mb-7 flex items-center justify-between",children:[e.jsx(S,{as:"h4",className:"font-semibold",children:"Change Status"}),e.jsx(k,{size:"sm",variant:"text",onClick:()=>a(!n),children:e.jsx(N,{className:"h-auto w-5"})})]}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"status",className:"font-medium block text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{name:"status",id:"status",className:"w-full border rounded-md border-gray-300",value:s.status,onChange:r,children:[e.jsx("option",{value:"payment",children:"Payment Pending"}),e.jsx("option",{value:"payment_success",children:"Payment Success"}),e.jsx("option",{value:"packaging",children:"Packaging"}),e.jsx("option",{value:"shipped",children:"Shipped"}),e.jsx("option",{value:"finish",children:"Completed"}),e.jsx("option",{value:"refund",children:"Refunded"}),e.jsx("option",{value:"canceled",children:"Cancelled"})]})]}),s.status==="shipped"&&e.jsx("div",{className:"mb-2",children:e.jsx(P,{label:"Resi",name:"resi",placeholder:"Enter a resi",value:s.resi,onChange:r,required:!0})}),s.status==="canceled"&&e.jsx("div",{className:"mb-2",children:e.jsx(E,{label:"Reason",name:"reason_cancelled",placeholder:"Enter a reason",value:s.reason_cancelled,onChange:r,required:!0})}),e.jsxs("div",{className:"sticky mt-4 bottom-0 z-40 flex items-center justify-end gap-3 bg-gray-0/10 backdrop-blur @lg:gap-4 @xl:grid @xl:auto-cols-max @xl:grid-flow-col",children:[e.jsx(l,{variant:"outline",className:"w-full @xl:w-auto",onClick:()=>u(),children:"Cancel"}),e.jsx(l,{type:"submit",isLoading:p,className:"w-full @xl:w-auto dark:bg-gray-100 dark:text-white dark:active:bg-gray-100",children:"Save"})]})]})]})})]})}export{le as default};
