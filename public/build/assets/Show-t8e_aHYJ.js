import{W as b,r as g,j as e,y as v}from"./app-NZ2NpT9t.js";import{A as y}from"./App-n1ORKV1i.js";import{r as o}from"./drawer-fxzaHqn5.js";import{D as C}from"./delete-popover-eiL9Zz1Q.js";import{P as D}from"./page-header-JFtsSHRo.js";import{a as N}from"./index.esm-JqGhFYUb.js";import{V as l,p as w,E as S,C as k,n as P,a as E}from"./index-QcYY8NJ7.js";import _ from"./OrderView-5GbHWV9L.js";import{n as O}from"./notification-imeBtnij.js";import"./ApplicationLogo-ce1I97tQ.js";import"./class-names-zUl3OLOi.js";import"./use-event-listener-k3gDFRfB.js";import"./lang-f8Sp7Z3Y.js";import"./useWindowScroll-jM3sZoqA.js";import"./util-MOdpI_j3.js";import"./dayjs.min-011rUQqy.js";import"./useMedia-jq_ogSfU.js";import"./index-7cF92POO.js";/* empty css                      */import"./index-eYjLSNre.js";import"./transition-hzLCq6B9.js";import"./dialog-V6YP2pjW.js";import"./format-zRLDwqAs.js";import"./table-hf8euEO4.js";import"./createSuper-unE3q42P.js";import"./defineProperty-9_qlZ_aL.js";import"./objectWithoutPropertiesLoose-0VpOByGv.js";import"./react-number-format.es-upNBDoWt.js";import"./utils-kpKCX6Tx.js";const c={title:"Detail Order",breadcrumb:[{href:o.eCommerce.orders,name:"Orders"},{name:"Detail"}]};function oe({order:t}){const{data:s,setData:m,patch:d,processing:p}=b({status:t.status??"",resi:t.resi??"",reason_cancelled:t.reason_cancelled??""}),[n,a]=g.useState(!1),u=()=>{a(!1)},r=i=>{const{name:j,value:f}=i.target;m({...s,[j]:f})},x=()=>{v.delete(o.eCommerce.orderDetails(t.id))},h=i=>{i.preventDefault(),d(o.eCommerce.orderDetails(t.id),{onSuccess:()=>{O("Order status has been updated.","success"),a(!1)}})};return e.jsxs(y,{title:`Detail #${t.order_id}`,children:[e.jsx(D,{title:c.title,breadcrumb:c.breadcrumb,children:e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(l,{type:"button",onClick:()=>a(!0),children:"Update Status"}),e.jsx(C.Button,{title:"Delete the order",description:`Are you sure you want to delete this #${t.order_id} order?`,onDelete:()=>x()})]})}),e.jsx(_,{order:t}),e.jsx(w,{isOpen:n,size:"DEFAULT",onClose:()=>a(!1),children:e.jsxs("div",{className:"m-auto px-5 pb-8 pt-5 @lg:pt-6 @2xl:px-7",children:[e.jsxs("div",{className:"mb-7 flex items-center justify-between",children:[e.jsx(S,{as:"h4",className:"font-semibold",children:"Change Status"}),e.jsx(k,{size:"sm",variant:"text",onClick:()=>a(!n),children:e.jsx(N,{className:"h-auto w-5"})})]}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"status",className:"font-medium block text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{name:"status",id:"status",className:"w-full border rounded-md border-gray-300",value:s.status,onChange:r,children:[e.jsx("option",{value:"payment",children:"Payment Pending"}),e.jsx("option",{value:"payment_success",children:"Payment Success"}),e.jsx("option",{value:"packaging",children:"Packaging"}),e.jsx("option",{value:"shipped",children:"Shipped"}),e.jsx("option",{value:"finish",children:"Completed"}),e.jsx("option",{value:"refund",children:"Refunded"}),e.jsx("option",{value:"canceled",children:"Cancelled"})]})]}),s.status==="shipped"&&e.jsx("div",{className:"mb-2",children:e.jsx(P,{label:"Resi",name:"resi",placeholder:"Enter a resi",value:s.resi,onChange:r,required:!0})}),s.status==="canceled"&&e.jsx("div",{className:"mb-2",children:e.jsx(E,{label:"Reason",name:"reason_cancelled",placeholder:"Enter a reason",value:s.reason_cancelled,onChange:r,required:!0})}),e.jsxs("div",{className:"sticky mt-4 bottom-0 z-40 flex items-center justify-end gap-3 bg-gray-0/10 backdrop-blur @lg:gap-4 @xl:grid @xl:auto-cols-max @xl:grid-flow-col",children:[e.jsx(l,{variant:"outline",className:"w-full @xl:w-auto",onClick:()=>u(),children:"Cancel"}),e.jsx(l,{type:"submit",isLoading:p,className:"w-full @xl:w-auto dark:bg-gray-100 dark:text-white dark:active:bg-gray-100",children:"Save"})]})]})]})})]})}export{oe as default};
