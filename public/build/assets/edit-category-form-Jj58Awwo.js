import{r as c,j as e,d as y,y as g}from"./app-2UknqXgy.js";import{F as N}from"./FileUpload-lWAp9xYL.js";import{I as C}from"./InputError-iSpwlnJD.js";import{r as d}from"./routes-0mvJeivy.js";import{t as r,c as u}from"./lang-ZDB8uS83.js";import{n as E,a as w,V as h,E as S,S as k}from"./index-CkMAcVi9.js";import{S as F}from"./index-R8Sv_q1I.js";import{A as D}from"./utils-FzIoAioV.js";import{n as I}from"./notification-n4E3ZUKo.js";import"./index.esm-uZtfluGa.js";import"./transition-ocz20r5l.js";import"./dialog-ZsqB_iXW.js";import"./constants-lPtH_bX3.js";import"./index-OfqHdAuq.js";function f({title:a,description:n,children:l,className:o,isModalView:i=!0}){return e.jsxs("div",{className:u(o,i?"@3xl:grid @3xl:grid-cols-6":" "),children:[i&&e.jsxs("div",{className:"col-span-2 mb-6 pe-4 @5xl:mb-0",children:[e.jsx(S,{as:"h6",className:"font-semibold",children:r(a)}),e.jsx(k,{className:"mt-1 text-sm text-gray-500",children:n})]}),e.jsx("div",{className:u("grid grid-cols-1 gap-3 @lg:gap-4 @2xl:gap-5",i?"col-span-4":" "),children:l})]})}function K({category:a}){var x;const[n,l]=c.useState(!1),[o,i]=c.useState({}),[s,m]=c.useState({name:a.name??"",description:a.description??"",icon:null}),p=t=>{m({...s,[t.target.name]:t.target.value})},j=t=>{m({...s,icon:t[0]})},v=t=>{t.preventDefault(),g.post(d.eCommerce.updateCategory(a.slug),{_method:"put",...s},{onStart:()=>l(!0),onFinish:()=>l(!1),onError:b=>i(b),onSuccess:()=>{I("Category has been updated.","success"),g.visit(d.eCommerce.categories,{only:["categories"]})}})};return e.jsxs("form",{onSubmit:v,className:"isomorphic-form flex flex-grow flex-col @container",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-8 divide-y divide-dashed  divide-gray-200 @2xl:gap-10 @3xl:gap-12 [&>div]:pt-7 first:[&>div]:pt-0 @2xl:[&>div]:pt-9 @3xl:[&>div]:pt-11",children:[e.jsxs(f,{title:"Edit product category:",description:r("Edit your category information from here"),children:[e.jsx(E,{label:r("Category Name"),name:"name",onChange:p,value:s.name,placeholder:r("Category name"),error:o.name}),e.jsx(w,{label:r("Description"),name:"description",onChange:p,value:s.description,placeholder:r("Description"),error:o.description})]}),e.jsx(f,{title:"Update icon image",description:r("Update and upload your icon category here"),children:e.jsxs("div",{className:"mb-5",children:[e.jsx(N,{label:"Category Icon",multiple:!1,placeholder:"PNG, JPG, JPEG up to 2MB",onChangeFile:j}),e.jsx(C,{message:o.icon}),s.icon===null?e.jsx(F,{className:"max-h-[280px]",children:e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{className:"flex min-h-[58px] w-full items-center rounded-xl border border-gray-200 px-3 dark:border-gray-300",children:[e.jsx("div",{className:"relative flex h-10 w-10 flex-shrink-0 items-center justify-center overflow-hidden rounded-lg border border-gray-200 bg-gray-50 object-cover px-2 py-1.5 dark:bg-transparent",children:e.jsx("img",{src:D(a.icon),className:" object-contain",alt:a.name,sizes:"(max-width: 768px) 100vw"})}),e.jsx("div",{className:"truncate px-2.5",children:(x=a.icon)==null?void 0:x.split("/")[1]})]})})}):null]})})]}),e.jsxs("div",{className:"sticky bottom-0 z-40 flex items-center justify-end gap-3 bg-gray-0/10 backdrop-blur @lg:gap-4 @xl:grid @xl:auto-cols-max @xl:grid-flow-col -mx-10 -mb-7 px-10 py-5",children:[e.jsx(y,{href:d.eCommerce.categories,children:e.jsx(h,{variant:"outline",className:"w-full @xl:w-auto",children:r("Cancel")})}),e.jsx(h,{type:"submit",isLoading:n,className:"w-full @xl:w-auto dark:bg-gray-100 dark:text-white dark:active:bg-gray-100 py-1",children:r("Update Category")})]})]})}export{K as default};
